# Ref https://wiki.hypr.land/Configuring/Workspace-Rules/

# Import auto-generated rules from hypr-quickrule extension

# hyprlang noerror true
source = ~/.config/hypr/generated-rules.conf
# hyprlang noerror false

# Fix some dragging issues with XWayland
windowrule = match:class ^$ match:title ^$ match:xwayland 1 match:float 1 match:fullscreen 0 match:pin 0, no_focus on

# Prevent windows from sending maximize/fullscreen events to the compositor
# This stops applications from trying to control their own window state, letting Hyprland handle it instead
windowrulev2 = suppressevent maximize, class:.*
windowrulev2 = suppressevent fullscreen, class:.*

# Center floating windows using move onscreen (centers on active monitor)
windowrulev2 = move onscreen cursor, floating:1

# smart gaps / no gaps when only
# workspace = w[tv1]s[false], gapsout:0, gapsin:0
# workspace = f[1]s[false], gapsout:0, gapsin:0
# windowrule = bordersize 0, floating:0, onworkspace:w[tv1]s[false]
# windowrule = rounding 0, floating:0, onworkspace:w[tv1]s[false]
# windowrule = bordersize 0, floating:0, onworkspace:f[1]s[false]
# windowrule = rounding 0, floating:0, onworkspace:f[1]s[false]

# ==========================================
# GTK Application
# ==========================================
windowrule = match:class ^(GTK Application)$, float on

# ==========================================
# Bitwarden
# ==========================================
windowrule = match:class ^(Bitwarden)$, float on
windowrule = match:class ^(Bitwarden)$, size 900 900

# ==========================================
# Bottles
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(com\.usebottles\.bottles)$

# ==========================================
# GNOME Applications (general)
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(org\.gnome\.tweaks)$
windowrule = hyprbars:no_bar 1, match:class ^(org\.gnome\.baobab)$
windowrule = hyprbars:no_bar 1, match:class ^(org\.gnome\.Calculator)$
windowrule = match:class ^(org\.gnome\.Calculator)$, float on
windowrule = hyprbars:no_bar 1, match:class ^(org\.gnome\.TextEditor)$
windowrule = match:class ^(org\.gnome\.TextEditor)$, float on
windowrule = hyprbars:no_bar 1, match:class ^(org\.gnome\.font-viewer)$
windowrule = hyprbars:no_bar 1, match:class ^(org\.gnome\.Loupe)$
windowrule = match:class ^(org\.gnome\.Loupe)$, float on

# ==========================================
# Plexamp
# ==========================================
windowrule = hyprbars:no_bar 1, match:class Plexamp
windowrule = match:class Plexamp, float on
windowrule = match:class Plexamp, size 360 620

# ==========================================
# Flatseal
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(com\.github\.tchx84\.Flatseal)$
windowrule = match:class ^(com\.github\.tchx84\.Flatseal)$, float on

# ==========================================
# Font Viewer (GNOME)
# ==========================================
windowrule = match:class ^(org\.gnome\.font-viewer)$, float on

# ==========================================
# Foot Terminal
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(foot(client)?)$

# ==========================================
# Flake Update Terminal (special floating window)
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(flake_update_terminal)$
windowrule = match:class ^(flake_update_terminal)$, float on
windowrule = match:class ^(flake_update_terminal)$, pin on

# ==========================================
# GCR Prompter
# ==========================================
windowrule = match:class ^(gcr-prompter)$, pin on

# ==========================================
# Mission Center
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(io\.missioncenter\.MissionCenter)$
windowrule = match:class ^(io\.missioncenter\.MissionCenter)$, float on
windowrule = match:class ^(io\.missioncenter\.MissionCenter)$, pin on
windowrule = match:class ^(io\.missioncenter\.MissionCenter)$, no_anim on
# windowrule = match:class ^(io)$, move onscreen 100% 100%
# windowrule = match:class ^(io\.missioncenter\.MissionCenter)$, size 800 800

# ==========================================
# Mullvad VPN
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(Mullvad VPN)$
windowrule = match:class ^(Mullvad VPN)$, float on
windowrule = match:class ^(Mullvad VPN)$, pin on
# windowrule = match:class ^(Mullvad VPN)$, no_anim on
# windowrule = match:class ^(Mullvad VPN)$, move onscreen 100% 100%

# ==========================================
# Nemo File Manager
# ==========================================
windowrule = match:class ^(nemo)$, float on
windowrule = match:class ^(nemo)$, no_anim on

# ==========================================
# File Roller
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(org\.gnome\.FileRoller)$
windowrule = match:class ^(org\.gnome\.FileRoller)$, float on

# ==========================================
# Network Manager Connection Editor
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(nm-connection-editor)$
windowrule = match:class ^(nm-connection-editor)$, float on
windowrule = match:class ^(nm-connection-editor)$, pin on
windowrule = match:class ^(nm-connection-editor)$, no_anim on
windowrule = match:class ^(nm-connection-editor)$, move onscreen 100% 100%
windowrule = match:class ^(nm-connection-editor)$ match:initial_title ^(Network Connections)$, size 350 270

# ==========================================
# PulseAudio Volume Control
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(org\.pulseaudio\.pavucontrol)$
windowrule = match:class ^(org\.pulseaudio\.pavucontrol)$, float on
windowrule = match:class ^(org\.pulseaudio\.pavucontrol)$, pin on
windowrule = match:class ^(org\.pulseaudio\.pavucontrol)$, no_anim on

# ==========================================
# Proton VPN
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(protonvpn-app)$
windowrule = match:class ^(protonvpn-app)$, float on
windowrule = match:class ^(protonvpn-app)$, pin on
windowrule = match:class ^(protonvpn-app)$, move onscreen 100% 100%
windowrule = match:class ^(protonvpn\.app)$ match:title ^(Proton VPN)$, float on

# ==========================================
# Vicinae
# ==========================================
windowrule = hyprbars:no_bar 1, match:initial_title ^(Vicinae (Launcher|Settings))$
windowrule = match:initial_title ^(Vicinae (Launcher|Settings))$, no_anim on
windowrule = match:initial_title ^(Vicinae (Launcher|Settings))$, border_size 0
windowrule = match:initial_title ^(Vicinae (Launcher|Settings))$, rounding 10
windowrule = match:initial_title ^(Vicinae (Launcher|Settings))$, no_shadow off

# ==========================================
# Warehouse (Flattool)
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(io\.github\.flattool\.Warehouse)$
windowrule = match:class ^(io\.github\.flattool\.Warehouse)$, float on
windowrule = match:class ^(io\.github\.flattool\.Warehouse)$, size 750 900

# ==========================================
# WezTerm
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(org\.wezfurlong\.wezterm)$

# ==========================================
# XDG Desktop Portal GTK (File Picker)
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(xdg-desktop-portal-gtk)$
windowrule = match:class ^(xdg-desktop-portal-gtk)$, float on
windowrule = match:class ^(xdg-desktop-portal-gtk)$, pin on
windowrule = match:class ^(xdg-desktop-portal-gtk)$, no_anim on


# ==========================================
# Zen Browser
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(app\.zen_browser\.zen)$
windowrule = match:title ^([Pp]icture-in-[Pp]icture)$, float on
# windowrule = match:title (Picture-in-Picture), noinitialfocus
# windowrule = match:title ^([Pp]icture-in-[Pp]icture)$, size 632 358
# windowrule = match:title ^([Pp]icture-in-[Pp]icture)$, move 100%-w-0 100%-h-0
windowrule = match:title ^([Pp]icture-in-[Pp]icture)$, pin on
windowrule = match:title ([Pp]icture-in-[Pp]icture), animation slide right
windowrule = hyprbars:no_bar 1, match:title ([Pp]icture-in-[Pp]icture)

# ===========================================
# Floorp Browser
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(one\.ablaze\.floorp)$
windowrule = hyprbars:no_bar 1, match:class ^(floorp)$

# ==========================================
# Winboat
# ==========================================
windowrule = match:class (winboat), float on
windowrule = hyprbars:no_bar 1, match:class ^(winboat)$
windowrule = hyprbars:no_bar 1, match:initial_class ^(winboat-*)$
windowrule = hyprbars:no_bar 1, match:initial_class ^(winboat-⚙️ Windows Explorer)$
windowrule = hyprbars:no_bar 1, match:initial_class ^(winboat-Huetrofor Hue)$
windowrule = match:initial_class ^(winboat-⚙️ Windows Explorer)$, float on
windowrule = match:initial_class ^(winboat-Huetrofor Hue)$, float on
windowrule = match:initial_class ^(winboat-Huetrofor Hue)$, size 1460 880
windowrule = match:initial_class ^(winboat-Huetrofor Hue)$, move 3255 779

# ==========================================
# xfreerdp (FreeRDP)
# ==========================================
windowrule = hyprbars:no_bar 1, match:initial_class ^(xfreerdp)$
windowrule = match:initial_class ^(xfreerdp)$, fullscreen on

# ==========================================
# Obsidian
# ==========================================
windowrule = hyprbars:no_bar 1, match:initial_class ^(obsidian)$

# ==========================================
# MEGAsync
# ==========================================
windowrule = match:class nz.mega.MEGAsync, float on
windowrule = match:initial_title ^(MEGAsync)$, float on
windowrule = match:initial_title ^(MEGAsync)$, pin on
windowrule = hyprbars:no_bar 1,  match:initial_title ^(MEGAsync)$
windowrule =  match:initial_title ^(MEGAsync)$, rounding 15
windowrule = match:initial_class nz.co.mega, float on

# ==========================================
# Discord
# ==========================================
windowrule = hyprbars:no_bar 1, match:initial_title ^(Discord Updater)$
windowrule = hyprbars:no_bar 1, match:initial_title ^(Discord)$

# ==========================================
# Steam
# ==========================================
windowrule = hyprbars:no_bar 1, match:initial_title ^(Friends List)$
windowrule = match:initial_title ^(Friends List)$, float on
windowrule = match:initial_title ^(Add Non-Steam Game)$, float on
windowrule = hyprbars:no_bar 1, match:initial_class ^(steam)$
windowrule = match:initial_title ^(Sign in to Steam)$, float on
windowrule = match:initial_title ^(Sign in to Steam)$, center on

# Steam games - disable animations and blur to prevent flickering
windowrule = match:class ^(steam_app_), no_anim on
windowrule = hyprbars:no_bar 1, match:class ^(steam_app_)
windowrule = match:class ^(steam_app_), border_size 0
windowrule = match:class ^(steam_app_), rounding 0
windowrule = match:class ^(steam_app_), no_shadow on
windowrule = match:class ^(steam_app_), opacity 1.0 override 1.0 override
windowrule = match:class ^(steam_app_), fullscreen on
windowrulev2 = center, class:^(steam_app_)

# SGDBoop
windowrule = hyprbars:no_bar 1, match:class ^(SGDBoop)$
windowrule = match:class ^(SGDBoop)$, float on
windowrule = match:class ^(SGDBoop)$, pin on

# ==========================================
# Lutris
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(net\.lutris.Lutris)$

# ==========================================
# Wine
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(winecfg\.exe)$
windowrule = match:class ^(winecfg\.exe)$, float on

# ==========================================
# Battle.net
# ==========================================
windowrule = match:initial_title ^(Battle.net Login)$, float on
windowrule = match:initial_title ^(Battle.net Login)$, no_anim on
windowrule = hyprbars:no_bar 1,  match:initial_title ^(Battle.net Login)$
windowrule =  match:initial_title ^(Battle.net Login)$, rounding 0
windowrule =  match:initial_title ^(Battle.net Login)$, border_size 0

windowrule = match:initial_title ^(Battle.net)$, float on
windowrule = match:initial_title ^(Battle.net)$, no_anim on
windowrule = hyprbars:no_bar 1,  match:initial_title ^(Battle.net)$
windowrule =  match:initial_title ^(Battle.net)$, rounding 0
windowrule =  match:initial_title ^(Battle.net)$, border_size 0

windowrule = match:initial_title ^(Battle.net Settings)$, float on
windowrule = match:initial_title ^(Battle.net Settings)$, no_anim on
windowrule = hyprbars:no_bar 1,  match:initial_title ^(Battle.net Settings)$
windowrule =  match:initial_title ^(Battle.net Settings)$, rounding 0
windowrule =  match:initial_title ^(Battle.net Settings)$, border_size 0
windowrule =  match:initial_title ^(Battle.net Settings)$, pin on

# ==========================================
# World of Warcraft
# ==========================================
windowrule = match:initial_title ^(World of Warcraft)$, workspace 10
windowrule = match:initial_title ^(World of Warcraft)$, fullscreen on
windowrule = match:initial_title ^(World of Warcraft)$, no_anim on
windowrule = hyprbars:no_bar 1, match:initial_title ^(World of Warcraft)$
windowrule = match:initial_title ^(World of Warcraft)$, border_size 0
windowrule = match:initial_title ^(World of Warcraft)$, rounding 0
windowrule = match:initial_title ^(World of Warcraft)$, no_shadow on
windowrule = match:initial_title ^(World of Warcraft)$, opacity 1.0 override 1.0 override

# ==========================================
# WowUp CurseForge
# ==========================================
windowrule = hyprbars:no_bar 1, match:class ^(WowUpCf)$


